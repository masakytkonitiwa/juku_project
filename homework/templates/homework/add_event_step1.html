{% extends 'homework/base.html' %}
{% load static %}
{% block content %}

<div class="arrow-steps">
  <div class="step current">1</div>
  <div class="step">2</div>
  <div class="step">3</div>
</div>

<h1>â‘ ã‚¤ãƒ™ãƒ³ãƒˆãƒœã‚¿ãƒ³ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚</h1>
<form method="post">
  {% csrf_token %}
  <input type="hidden" name="name" id="id_name">

  <div class="button-group">
    {% for template in templates %}
      <button type="button" class="template-button"
              data-name="{{ template.name }}">
        ğŸ“… {{ template.name }}
      </button>
    {% empty %}
      <p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {% endfor %}

    <button type="button" class="template-button mt-gap"
            onclick="location.href='{% url 'add_event_template' %}'">
      â• ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ–°è¦ä½œæˆorå‰Šé™¤
    </button>
  </div>

  <div class="text-center mt-5xl mb-5xl">
    <button type="submit" class="next-button">æ¬¡ã¸é€²ã‚€</button>
  </div>
</form>


<!-- æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
<div class="text-center mt-5xl mb-5xl">
  <a href="{% url 'weekly_view' %}" class="back-button">
    â† æˆ»ã‚‹
  </a>
</div>



<script>
  const buttons = document.querySelectorAll('.template-button');
  buttons.forEach(button => {
    // é€šå¸¸ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãƒœã‚¿ãƒ³ã ã‘ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
    if (button.dataset.name) {
      button.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('selected'));
        button.classList.add('selected');
        document.getElementById('id_name').value = button.dataset.name;
      });
    }
  });
</script>

{% endblock %}
